!function(){var t={getRandom:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1)+t)},getColor:function(){return"rgb("+this.getRandom(0,255)+","+this.getRandom(0,255)+","+this.getRandom(0,255)+")"}};window.Tools=t}(),function(){function t(t){t=t instanceof Object?t:{},this.width=t.width||20,this.height=t.height||20,this.x=t.x||0,this.y=t.y||0,this.color=t.color||"green",this.elements=[]}t.prototype.render=function(t){var e=document.createElement("div");this.x=Tools.getRandom(0,t.clientWidth/this.width-1)*this.width,this.y=Tools.getRandom(0,t.clientHeight/this.height-1)*this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",e.style.left=this.x+"px",e.style.top=this.y+"px",e.style.backgroundColor=this.color,e.style.position="absolute",t.appendChild(e),this.elements.push(e)},t.prototype.remove=function(t,e){t.removeChild(this.elements[e]),this.elements.splice(e,1)},window.Food=t}(),function(){function t(t){t=t instanceof Object?t:{},this.width=t.width||20,this.height=t.height||20,this.body=[{x:3,y:2,color:"red"},{x:2,y:2,color:"blue"},{x:1,y:2,color:"blue"}],this.direction="right",this.elements=[]}t.prototype.render=function(t){for(var e=0,o=this.body.length;e<o;e++){var i=this.body[e],s=document.createElement("div");s.style.width=this.width+"px",s.style.height=this.height+"px",s.style.left=i.x*this.width+"px",s.style.top=i.y*this.height+"px",s.style.position="absolute",s.style.backgroundColor=i.color,t.appendChild(s),this.elements.push(s)}},t.prototype.move=function(){for(var t=this.body.length-1;t>0;t--)this.body[t].x=this.body[t-1].x,this.body[t].y=this.body[t-1].y;var e=this.body[0];switch(this.direction){case"right":e.x+=1;break;case"left":e.x-=1;break;case"top":e.y-=1;break;case"bottom":e.y+=1}},t.prototype.remove=function(t){for(var e=this.elements.length-1;e>=0;e--)t.removeChild(this.elements[e]);this.elements=[]},window.Snake=t}(),function(){var t;function e(e){this.food=new Food,this.snake=new Snake,this.map=e,t=this}e.prototype.start=function(){var e;this.food.render(this.map),this.food.render(this.map),this.food.render(this.map),this.snake.render(this.map),e=setInterval(function(){t.snake.move(),t.snake.remove(t.map),t.snake.render(t.map);for(var o=t.map.offsetWidth/t.snake.width,i=t.map.offsetHeight/t.snake.height,s=t.snake.body[0].x,n=t.snake.body[0].y,h=(t.food.x,t.food.y,s*t.snake.width),r=n*t.snake.height,a=0;a<t.food.elements.length;a++)if(t.food.elements[a].offsetLeft===h&&t.food.elements[a].offsetTop===r){t.food.remove(t.map,a),t.food.render(t.map);var d=t.snake.body[t.snake.body.length-1];t.snake.body.push({x:d.x,y:d.y,color:d.color})}(s<0||s>=o||n<0||n>=i)&&(clearInterval(e),alert("GameOver"))},150),document.onkeydown=function(e){switch(console.log(e.keyCode),e.keyCode){case 37:t.snake.direction="left";break;case 38:t.snake.direction="top";break;case 39:t.snake.direction="right";break;case 40:t.snake.direction="bottom"}}},window.Game=e}(),function(){var t=document.getElementById("map");new Game(t).start()}();